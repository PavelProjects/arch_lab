# Содержимое проекта
- ./docs - документация по проекту. Тут находится OpenApi.
- ./mariadb - контейнер бд со скриптом создания таблиц (rollout.sql). Скрипт вызывается автоматически при первом запуске контейнера.
- ./config - конфигурация бд
- ./database - менеджер подключений к бд, описание сущностей бд
- ./auth_service - реализация сервиса авторизации
- ./user_service - реалиазция сервиса пользователей
- ./product_service - реализация сервиса работы с продаваемыми услугами
- ./utils - набор утилит для упрощения работы
- .env - переменные окружения для запуска контейнеров
- auth_main.cpp, user_main.cpp и product_main.cpp - точки входа контейнеров сервисов авторизации, пользователей и продаваемы услуг соотвественно
- docker-compose.yaml - конфигурация запуска контейнеров

# Запуск:
```
docker compose build
docker compose up
```

# Алгоритм проверки
- [опционально] Создать пользователя через /auth/sign/up или же использовать уже созданного тестового пользователя (autotest1/123 или autotest2/123)
- Авторизоваться через /auth/sign/in (basic auth) с помощью логина/пароля: autotest1/123 или autotest2/123
- Полученный токен используются при обращении к остальным сервисам (кроме /auth/sign/up)
- Далее можно можно обращаться к любым сервисам, например
    - Поискать других юзеров через /user/search
    - Отредактировать юзера через [PUT] /user
    - Создать новый лот продукта через [POST] /product
    - Найти созданный лот через /product/search
    - Отредактировать свой лот через [PUT] /product/edit
    - Удалить свой лот [DELETE] /product
    - Удалить юзера [DELETE] /user

<b>!!!ВНИМАНИЕ!!!</b>

Новый пользователь не будет иметь прав админа и сможет удалять только свои записи.
Созданные для тестов юзеры (autotes1, autotest2) имеют права админов и могут удалять любые сущности.

# Api
Конфигурация ендпоинтов описана в ./docs/index.yaml.

Для авторизации можно использовать тестовых пользователей:
- autotest1 / 123
- autotest2 / 123

Или же создать своего.